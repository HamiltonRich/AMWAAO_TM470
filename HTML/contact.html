<!doctype html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Asset Management System</title>
        <link rel="stylesheet" href="../CSS/styles.css" />
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css" />
        <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;700&display=swap" rel="stylesheet" />
        <style>
            /* Additional styles can be added here if needed */
        </style>
    </head>
    <body>
        <header class="header">
            <h1 class="header-title">TeamAsset Manager</h1>
            <button id="darkModeToggle" title="Light/Dark mode"><i id="darkModeIcon" class="fas fa-moon"></i></button>
        </header>
        <header>
            <div id="loggedIn"></div>
            <div id="userDetails"></div>
        </header>
        <div class="sidebar">
            <ul>
                <li>
                    <a href="#" class="nav-link" data-target="home"
                        ><i class="fas fa-home icon"></i><span class="text">Home</span></a
                    >
                </li>
                <li>
                    <a href="#" class="nav-link" data-target="requisition-form"
                        ><i class="fas fa-file-alt icon"></i><span class="text">Report a Fault</span></a
                    >
                </li>
                <li>
                    <a href="#" class="nav-link" data-target="staff-list"
                        ><i class="fas fa-users icon"></i><span class="text">Asset Register</span></a
                    >
                </li>
                <li>
                    <a href="#" class="nav-link" data-target="new-starter"
                        ><i class="fas fa-user-plus icon"></i><span class="text">New User</span></a
                    >
                </li>
                <li>
                    <a href="#" class="nav-link" data-target="delete_user"
                        ><i class="fas fa-user-slash icon"></i><span class="text">Remove User</span></a
                    >
                </li>
                <li>
                    <a href="#" class="nav-link" data-target="connection-test"
                        ><i class="fas fa-network-wired icon"></i><span class="text">Connection Test</span></a
                    >
                </li>
                <li>
                    <a href="#" class="nav-link" data-target="contact"
                        ><i class="fas fa-envelope icon"></i><span class="text">Contact Us</span></a
                    >
                </li>
                <li>
                    <a href="#" class="nav-link" data-target="about"
                        ><i class="fas fa-info-circle icon"></i><span class="text">About</span></a
                    >
                </li>
                <li>
                    <a href="#" class="nav-link" data-target="logout"
                        ><i class="fas fa-sign-out-alt icon"></i><span class="text">Log Out</span></a
                    >
                </li>
            </ul>
        </div>
        <div class="container">
            <div class="form-container">
                <div class="left-container">
                    <div class="left-inner-container">
                        <h2>Let us know</h2>
                        <p>
                            Whether you have an issue, a question, or want to let us know something isn't working as it
                            should.
                        </p>
                        <br />
                        <p>For anything urgent, please contact the IT helpdesk on 01234 567890</p>
                    </div>
                </div>
                <div class="right-container">
                    <div class="right-inner-container">
                        <form id="contactForm">
                            <h2 class="lg-view">Contact Us</h2>
                            <p>* Required</p>
                            <input type="text" placeholder="Name *" name="name" required />
                            <input type="email" placeholder="Email *" name="email" required />
                            <input type="text" placeholder="Subject *" name="subject" required />
                            <input type="tel" placeholder="Phone" name="phone" />
                            <textarea rows="10" placeholder="Message" name="message" required></textarea>
                            <button type="submit">Submit</button>
                        </form>
                    </div>
                </div>
            </div>
        </div>
        <footer class="footer">
            <p>
                &copy; 2024 Asset Management System. All rights reserved. | Designed by
                <a href="https://www.linkedin.com/in/richard-hamilton-319b35287">R I Hamilton</a>
            </p>
        </footer>
        <script src="../JavaScript/contact.js"></script>
        <script src="https://cdn.emailjs.com/dist/email.min.js"></script>
        <script src="../JavaScript/navLinks.js"></script>
        <script src="../JavaScript/darkMode.js"></script>
        <script>
            (function () {
                emailjs.init("j99DxQx5GimFzJyu-"); // Replace with your EmailJS user ID
            })();

            document.addEventListener("DOMContentLoaded", function () {
                const contactForm = document.getElementById("contactForm");

                if (contactForm) {
                    contactForm.addEventListener("submit", function (event) {
                        event.preventDefault();

                        // Collect form data
                        const formData = new FormData(contactForm);
                        const templateParams = {};
                        for (const [key, value] of formData.entries()) {
                            templateParams[key] = value;
                        }

                        // Send email
                        emailjs.send("service_6atfsc6", "template_kyvdpdo", templateParams).then(
                            function (response) {
                                console.log("SUCCESS!", response.status, response.text);
                                alert("Email sent successfully!");
                                contactForm.reset();
                            },
                            function (error) {
                                console.log("FAILED...", error);
                                alert("An error occurred while sending the email.");
                            }
                        );
                    });
                }
            });
        </script>
    </body>
</html>